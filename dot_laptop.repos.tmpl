#!/bin/bash

set -e

info_echo "Cloning GitHub repos ..."
gh auth login --with-token < ~/.github_token

if [ ! -d "$HOME/projects" ]; then
  mkdir "$HOME/projects"
fi

# Clone these on home machines only
{{- if eq .location "home" }}

if [ ! -d "$HOME/projects/codeforamerica" ]; then
  mkdir "$HOME/projects/codeforamerica"
fi
cd ~/projects/codeforamerica
if [ ! -d "$HOME/projects/codeforamerica/ohana-api" ]; then
  gh repo clone codeforamerica/ohana-api
fi

if [ ! -d "$HOME/projects/codeforamerica/ohana-web-search" ]; then
  gh repo clone codeforamerica/ohana-web-search
fi

if [ ! -d "$HOME/projects/codeforamerica/ohana-api-docs" ]; then
  gh repo clone codeforamerica/ohana-api-docs
fi

if [ ! -d "$HOME/projects/codeforamerica/ohanakapa-ruby" ]; then
  gh repo clone codeforamerica/ohanakapa-ruby
fi

if [ ! -d "$HOME/projects/monfresh" ]; then
  mkdir "$HOME/projects/monfresh"
fi
cd ~/projects/monfresh

if [ ! -d "$HOME/projects/monfresh/monfresh-dot-com" ]; then
  gh repo clone monfresh/monfresh-dot-com
fi

if [ ! -d "$HOME/projects/monfresh/ohana-sms" ]; then
  gh repo clone monfresh/ohana-sms
fi

if [ ! -d "$HOME/projects/monfresh/blog" ]; then
  gh repo clone monfresh/blog
fi

if [ ! -d "$HOME/projects/rubyonmac" ]; then
  mkdir "$HOME/projects/rubyonmac"
fi
cd ~/projects/rubyonmac

if [ ! -d "$HOME/projects/rubyonmac/rom" ]; then
  gh repo clone rubyonmac/rom
fi

if [ ! -d "$HOME/projects/rubyonmac/rom-plus" ]; then
  gh repo clone rubyonmac/rom-plus
fi

if [ ! -d "$HOME/projects/rubyonmac/rom-basic" ]; then
  gh repo clone rubyonmac/rom-basic
fi

if [ ! -d "$HOME/projects/rubyonmac/rubyonmac-site" ]; then
  gh repo clone rubyonmac/rubyonmac-site
fi

if [ ! -d "$HOME/projects/smcgov" ]; then
  mkdir "$HOME/projects/smcgov"
fi
cd ~/projects/smcgov

if [ ! -d "$HOME/projects/smcgov/ohana-api-smc" ]; then
  gh repo clone smcgov/ohana-api-smc
fi

if [ ! -d "$HOME/projects/smcgov/SMC-Connect" ]; then
  gh repo clone smcgov/SMC-Connect
fi
{{- end }}
