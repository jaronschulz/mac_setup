#!/bin/sh

set -e

fancy_echo "Cloning GitHub repos ..."
gh auth login --with-token < ~/.github_token.txt

if [ ! -d "$HOME/projects" ]; then
  mkdir "$HOME/projects"
fi

# Clone these on home machines only
{{- if eq .location "home" }}
if [ ! -d "$HOME/projects/codeforamerica" ]; then
  mkdir "$HOME/projects/codeforamerica"
fi
cd ~/projects/codeforamerica
[ ! -d "$HOME/projects/codeforamerica/ohana-api" ] && gh repo clone codeforamerica/ohana-api
[ ! -d "$HOME/projects/codeforamerica/ohana-web-search" ] && gh repo clone codeforamerica/ohana-web-search

if [ ! -d "$HOME/projects/monfresh" ]; then
  mkdir "$HOME/projects/monfresh"
fi
cd ~/projects/monfresh

[ ! -d "$HOME/projects/monfresh/laptop" ] && gh repo clone monfresh/laptop
[ ! -d "$HOME/projects/monfresh/install-ruby-on-macos" ] && gh repo clone monfresh/install-ruby-on-macos
[ ! -d "$HOME/projects/monfresh/monfresh-dot-com" ] && gh repo clone monfresh/monfresh-dot-com
[ ! -d "$HOME/projects/monfresh/ohana-sms" ] && gh repo clone monfresh/ohana-sms
[ ! -d "$HOME/projects/monfresh/blog" ] && gh repo clone monfresh/blog

# mkdir ~/projects/smcgov
# cd ~/projects/smcgov
# gh repo clone smcgov/ohana-api-smc
# gh repo clone smcgov/SMC-Connect
# gh repo clone smcgov/ohana-sms-smc
{{- end }}
